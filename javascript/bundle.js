!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="javascript",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var i=function(t){var e=this;for(var n in this.imgs={ground:{path:"./images/ground.png",element:null}},this.loadedImgs=0,this.numberOfImgs=Object.keys(this.imgs).length,this.imgs){var i=this.imgs[n];i.element=new Image,i.element.src=i.path,i.element.onload=function(){++e.loadedImgs===e.numberOfImgs&&t()}}},r=function(){function t(t){this.imgs=t.assets.imgs,this.player=t.player,this.game=t,this.canvas=document.getElementById("level"),this.ctx=this.canvas.getContext("2d"),this.canvas.width=800,this.canvas.height=640,this.animate()}return t.prototype.animate=function(){this.drawLevel(),window.requestAnimationFrame(this.animate.bind(this))},t.prototype.drawLevel=function(){var t=this;this.ctx.globalCompositeOperation="source-over",this.ctx.clearRect(0,0,800,640),this.game.level.forEach((function(e,n){e.forEach((function(e,i){var r=32*i,o=32*n;if("0"===e)return t.ctx.fillStyle="#228B22",void t.ctx.fillRect(r,o,32,32);"R"===e&&(t.ctx.fillStyle="#fff",t.ctx.fillRect(r,o,32,32)),"G"===e&&(t.ctx.fillStyle="yellow",t.ctx.fillRect(r,o,32,32)),"E"===e&&(t.ctx.fillStyle="black",t.ctx.fillRect(r,o,32,32)),"N"===e&&(t.ctx.fillStyle="red",t.ctx.fillRect(r,o,32,32))}))})),this.ctx.fillStyle="red",this.ctx.fillRect(this.player.currentPosition.x,this.player.currentPosition.y,16,16)},t}(),o=function(){function t(t){var e=this;this.currentPosition={x:0,y:0},this.garbageCollected=0,this.game=t,document.addEventListener("keydown",(function(t){return e.handleInput(t)}))}return t.prototype.handleInput=function(t){switch(t.keyCode){case 38:this.currentPosition.y-16>=0&&(this.currentPosition.y-=16);break;case 39:this.currentPosition.x+16<800&&(this.currentPosition.x+=16);break;case 40:this.currentPosition.y+16<640&&(this.currentPosition.y+=16);break;case 37:this.currentPosition.x-16>=0&&(this.currentPosition.x-=16);break;case 32:this.checkRequestedMove()}},t.prototype.checkRequestedMove=function(){var t=this.game.level,e=Math.round(this.currentPosition.y/32),n=Math.round(this.currentPosition.x/32);if(t[e]&&t[e][n])switch(t[e][n]){case"N":this.game.nextLevel(),this.currentPosition={x:0,y:0};break;case"G":this.garbageCollected+=1,console.log(this.garbageCollected),this.game.level[e][n]="E"}},t}();n.d(e,"Game",(function(){return s}));var s=function(){function t(){var t=this;this.assets=new i((function(){t.level=t.generateLevel(),t.player=new o(t),t.engine=new r(t)}))}return t.prototype.nextLevel=function(){this.level=this.generateLevel()},t.prototype.generateLevel=function(){return[["R","R","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["R","R","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["R","R","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["R","R","G","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["R","R","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["R","R","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["R","R","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["R","R","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["R","R","R","R","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["R","R","R","R","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","R","R","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","R","R","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","R","R","0","0","0","0","0","0","0","0","0","0","0","0","G","0","0","0","0","0","0","0","0"],["0","G","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N"],["0","0","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R"],["0","0","0","0","0","0","0","0","0","0","G","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"]]},t}();new s}]);