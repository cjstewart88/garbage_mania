import { Assets } from './assets';
import { Engine } from './engine';
import { Player } from './player';

export class Game {
  public assets: Assets;
  public engine: Engine;
  public player: Player;
  public level: string[][];

  private startTime: number;

  constructor() {
    this.assets = new Assets(() => {
      this.level = this.generateLevel();
      this.player = new Player(this);
      this.engine = new Engine(this);
    });
  }

  public nextLevel() {
    this.level = this.generateLevel();
  }

  private generateLevel() {
    return [
      ['R','R','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
      ['R','R','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
      ['R','R','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
      ['R','R','G','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
      ['R','R','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
      ['R','R','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
      ['R','R','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
      ['R','R','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
      ['R','R','R','R','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
      ['R','R','R','R','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
      ['0','0','R','R','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
      ['0','0','R','R','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
      ['0','0','R','R','0','0','0','0','0','0','0','0','0','0','0','0','G','0','0','0','0','0','0','0','0'],
      ['0','G','R','R','R','R','R','R','R','R','R','R','R','R','R','R','R','R','R','R','R','R','R','R','N'],
      ['0','0','R','R','R','R','R','R','R','R','R','R','R','R','R','R','R','R','R','R','R','R','R','R','R'],
      ['0','0','0','0','0','0','0','0','0','0','G','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
      ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
      ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
      ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
      ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0']
    ]
  }
}

const game = new Game();
